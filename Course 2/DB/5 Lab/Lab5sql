ALTER SESSION SET CONTAINER=XEPDB1;

--Задание 1
SELECT TABLESPACE_NAME FROM DBA_TABLESPACES;

--Задание 2
CREATE TABLESPACE TRA_QDATA
    DATAFILE 'D:\OracleXE_APP\oradata\XE\XEPDB1\TRA_QDATA.dbf'
    SIZE 10M
    AUTOEXTEND ON NEXT 5M
    MAXSIZE 30M
    OFFLINE;
    
SELECT * FROM DBA_DATA_FILES;

ALTER TABLESPACE TRA_QDATA ONLINE;
    
CREATE USER TRA 
    IDENTIFIED BY pass
    DEFAULT TABLESPACE TRA_QDATA
    ACCOUNT UNLOCK;
    
GRANT CREATE SESSION,
      CREATE TABLE
      TO TRA;
      
ALTER USER TRA QUOTA 5M ON TRA_QDATA;

SELECT * FROM DBA_SEGMENTS WHERE SEGMENT_NAME = 'TRA_T1';

SELECT * FROM DBA_SEGMENTS WHERE TABLESPACE_NAME = 'TRA_QDATA';

SELECT SEGMENT_NAME, EXTENTS, BLOCKS, BYTES FROM DBA_SEGMENTS WHERE TABLESPACE_NAME = 'TRA_QDATA';

SELECT * FROM DBA_SEGMENTS;

SELECT DISTINCT SEGMENT_TYPE FROM DBA_SEGMENTS;

SHOW PARAMETER DB_BLOCK_SIZE;

--DROP USER TRA;
--DROP TABLESPACE TRA_QDATA INCLUDING CONTENTS AND DATAFILES;